C51 COMPILER V9.60.0.0   STROBE                                                            05/18/2025 14:33:19 PAGE 1   


C51 COMPILER V9.60.0.0, COMPILATION OF MODULE STROBE
OBJECT MODULE PLACED IN .\Objects\Strobe.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Logic\Strobe.c OMF2 OPTIMIZE(9,SPEED) BROWSE MODDP2 INCDIR(.\StdDriver\i
                    -nc;.\Hardware;.\include\Hardware;.\include\Logic;.\include\Middleware;.\include\System) DEFINE(EnableStdGPIO) DEBUG PRIN
                    -T(.\Listings\Strobe.lst) TABS(2) OBJECT(.\Objects\Strobe.obj)

line level    source

   1          #include "ModeControl.h"
   2          #include "Strobe.h"
   3          
   4          //外部频闪Flag
   5          extern volatile bit StrobeFlag;
   6          extern volatile bit LFStrobeFlag;
   7          
   8          //内部变量
   9          static bit StrobeFlagSel;
  10          static xdata char StrobeSelIdx; //爆闪选择index
  11          static xdata char StrobeCounter; //爆闪次数计时
  12          
  13          //内部爆闪事件顺序
  14          static code char StrobeSeq[]={1,3,10,9,7,8,5,11,6};
  15          
  16          //爆闪控制器复位
  17          void ResetStrobeModule(void)
  18            {
  19   1        StrobeFlagSel=0;
  20   1        StrobeSelIdx=0;
  21   1        StrobeCounter=0;
  22   1        }
  23          
  24          //爆闪状态机处理
  25          void RandStrobeHandler(void)
  26            {
  27   1        if(StrobeCounter)StrobeCounter--;
  28   1        else
  29   1          {
  30   2          //装载计数值
  31   2          StrobeCounter=StrobeSeq[StrobeSelIdx];
  32   2          StrobeSelIdx=StrobeCounter%sizeof(StrobeSeq);
  33   2          //取反爆闪flag
  34   2          StrobeFlagSel=~StrobeFlagSel;
  35   2          }
  36   1        }
  37            
  38          //爆闪Flag输出处理
  39          bit StrobeOutputHandler(void)
  40            {
  41   1        //根据爆闪flag选择一组频率
  42   1        return StrobeFlagSel?StrobeFlag:LFStrobeFlag;
  43   1        }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     70    ----
   CONSTANT SIZE    =      9    ----
   XDATA SIZE       =      2    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
C51 COMPILER V9.60.0.0   STROBE                                                            05/18/2025 14:33:19 PAGE 2   

   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
